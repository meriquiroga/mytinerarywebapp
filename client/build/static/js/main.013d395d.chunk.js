(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(21),s=n.n(c),i=(n(57),n(58),n(80),n(14)),o=(n(81),n(6)),l=n(10),u=n(0),d=function(e){return Object(u.jsxs)("main",{children:[Object(u.jsx)("div",{id:"hero",style:{backgroundImage:"url('/assets/hero1.jpg')"},children:Object(u.jsxs)("div",{className:"insideHero",children:[Object(u.jsx)("img",{src:"/assets/mytineraryLogo.png",alt:""}),Object(u.jsx)("h2",{children:"Find your perfect trip, designed by insiders who know and love their cities!"}),Object(u.jsx)(o.c,{to:"/cities",children:Object(u.jsx)("button",{children:"START DREAMING"})})]})}),Object(u.jsx)("div",{className:"section",children:Object(u.jsx)("h2",{children:e.title})})]})},j=n(8),b=n(50),p=n(116),h=n(117),O=n(118),m=[[{src:"./assets/buenos_aires.jpg",altText:"Argentina",caption:"Buenos Aires"},{src:"./assets/dubai.jpg",altText:"United Arab Emirates",caption:"Dubai"},{src:"./assets/amsterdam.jpg",altText:"Netherlands",caption:"Amsterdam"},{src:"./assets/estambul.jpg",altText:"Turkey",caption:"Istanbul"}],[{src:"./assets/london.jpg",altText:"United Kingdom",caption:"London"},{src:"./assets/new_york.jpg",altText:"U.S.A.",caption:"New York"},{src:"./assets/rome.jpg",altText:"Italy",caption:"Rome"},{src:"./assets/sidney.jpg",altText:"Australia",caption:"Sydney"}],[{src:"./assets/tokio.jpg",altText:"Japan",caption:"Tokio"},{src:"./assets/madrid.jpg",altText:"Spain",caption:"Madrid"},{src:"./assets/new_delhi.jpg",altText:"India",caption:"New Delhi"},{src:"./assets/paris.jpg",altText:"France",caption:"Paris"}]],x=function(){var e=Object(r.useState)(0),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(j.a)(c,2),i=s[0],o=s[1],l=function(){if(!i){var e=n===m.length-1?0:n+1;a(e)}},d=function(){if(!i){var e=0===n?m.length-1:n-1;a(e)}},x=m.map((function(e,t){return Object(u.jsx)(b.a,{onExiting:function(){return o(!0)},onExited:function(){return o(!1)},children:Object(u.jsx)("div",{className:"slide-container",children:e.map((function(e){return Object(u.jsx)("div",{className:"city_img",style:{backgroundImage:"url('".concat(e.src,"')")},children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{className:"hSlides",children:e.caption}),Object(u.jsx)("p",{className:"pSlides",children:e.altText})]})},e.caption)}))})},t)}));return Object(u.jsxs)(p.a,{className:"myCarousel",activeIndex:n,next:l,previous:d,children:[Object(u.jsx)(h.a,{items:x,activeIndex:n,onClickHandler:function(e){i||a(e)}}),x,Object(u.jsx)(O.a,{direction:"prev",directionText:" ",onClickHandler:d}),Object(u.jsx)(O.a,{direction:"next",directionText:" ",onClickHandler:l})]})},g=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"contenedor",children:[Object(u.jsx)(d,{title:"Popular MYtineraries"}),Object(u.jsx)(x,{})]})})},f=n(3),v=n.n(f),y=n(4),k=n(7),N=n(15),I=n.n(N),w={getCities:function(){return function(){var e=Object(y.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://mytinerarywebapp.herokuapp.com/api/cities");case 2:if((r=e.sent).data.success){e.next=5;break}throw new Error("Error backend-DB response");case 5:t({type:"GET_ALL_CITIES",payload:r.data.response});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},filterCities:function(e){var t=e.target.value;return function(){var e=Object(y.a)(v.a.mark((function e(n,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"FILTER_CITIES",payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},getOneCity:function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"GET_ONE_CITY",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},C={getAllCities:w.getCities,filterCities:w.filterCities},S=Object(k.b)((function(e){return{cities:e.citiesRedux.cities,filtered:e.citiesRedux.filtered}}),C)((function(e){var t=Object(r.useState)(!0),n=Object(j.a)(t,2),a=n[0],c=n[1];if(Object(r.useEffect)((function(){function t(){return(t=Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getAllCities();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert(t.t0);case 8:return t.prev=8,c(!1),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),window.scrollTo(0,0)}),[]),a)return Object(u.jsxs)("div",{className:"contenedor",children:[Object(u.jsx)("div",{className:"city",style:{backgroundImage:"url('/assets/hero.jpg')"},children:Object(u.jsx)("div",{className:"insideCities",children:Object(u.jsx)("h3",{children:"Find your next adventure"})})}),Object(u.jsx)("h2",{className:"loading",children:"Loading..."})]});var s=e.filtered.map((function(e){return Object(u.jsx)(o.b,{to:"/city/".concat(e._id),children:Object(u.jsx)("div",{className:"citiesCards",style:{backgroundImage:"url('".concat(e.src,"')")},children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{className:"hCards",children:e.name}),Object(u.jsx)("p",{className:"pCards",children:e.country})]})})},e.name)}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"contenedor",children:[Object(u.jsx)("div",{className:"city",style:{backgroundImage:"url('/assets/hero.jpg')"},children:Object(u.jsx)("div",{className:"insideCities",children:Object(u.jsx)("h3",{children:"Find your next adventure"})})}),Object(u.jsx)("div",{className:"buscador",children:Object(u.jsx)("input",{className:"searchInput",type:"text",name:"search",placeholder:"Search by destination",onChange:function(t){return e.filterCities(t)}})}),Object(u.jsx)("div",{className:"cardsContainer",children:e.filtered.length>0?s:Object(u.jsxs)("div",{className:"sorry",children:[Object(u.jsx)("img",{src:"/assets/sorry.png",alt:""}),Object(u.jsx)("h2",{children:"We're sorry!"}),Object(u.jsx)("h3",{children:"We don't have that city yet..."}),Object(u.jsx)("p",{children:"Please try a different one"})]})}),Object(u.jsx)("div",{className:"buscador",children:Object(u.jsx)(o.b,{to:"/",children:Object(u.jsx)("button",{children:"BACK TO HOME"})})})]})})})),T=n(52),E={getActivities:{getActivities:function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n,r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("https://mytinerarywebapp.herokuapp.com/api/activities/"+e);case 2:if((a=t.sent).data.success){t.next=5;break}throw new Error("Error backend-DB response");case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}.getActivities},_=Object(k.b)(null,E)((function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){function t(){return(t=Object(y.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getActivities(e.itinerary);case 3:n=t.sent,c(n.data.response),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(e.itinerary)}),[]);var s=a.map((function(e){return Object(u.jsx)("div",{className:"activityImg",style:{backgroundImage:"url('".concat(e.img,"')")},children:Object(u.jsx)("p",{children:e.name})},e._id)}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"activitiesContainer",children:a.length>0?s:Object(u.jsxs)("div",{className:"sorry",children:[Object(u.jsx)("img",{src:"/assets/sorry.png",alt:""}),Object(u.jsx)("h2",{children:"We're sorry!"}),Object(u.jsx)("h3",{children:"We don't have any activities yet..."}),Object(u.jsx)("p",{children:"Please try again soon"})]})})})})),L=n(9),R={getItineraries:function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n,r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("https://mytinerarywebapp.herokuapp.com/api/itineraries/"+e);case 2:if((a=t.sent).data.success){t.next=5;break}throw new Error("There\xb4s been a conection error");case 5:n({type:"GET_ITINERARIES",payload:a.data.response});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},likes:function(e,t){return function(){var n=Object(y.a)(v.a.mark((function n(r,a){var c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.a.put("https://mytinerarywebapp.herokuapp.com/api/likes/".concat(e),{},{headers:{Authorization:"Bearer "+t}});case 3:if(!(c=n.sent).data.success){n.next=8;break}return n.abrupt("return",{success:!0,response:c.data.response});case 8:return n.abrupt("return",{success:!1});case 9:n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(0),n.abrupt("return",{success:!1,response:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},addComment:function(e,t,n){return function(){var r=Object(y.a)(v.a.mark((function r(a,c){var s;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,I.a.post("https://mytinerarywebapp.herokuapp.com/api/comments/".concat(t),n,{headers:{Authorization:"Bearer "+e}});case 3:return s=r.sent,r.abrupt("return",s.data.response);case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e,t){return r.apply(this,arguments)}}()}},A={addComment:R.addComment},G=Object(k.b)((function(e){return{token:e.usersReducer.token,name:e.usersReducer.name,surname:e.usersReducer.surname,_id:e.usersReducer._id}}),A)((function(e){var t=Object(r.useState)(e.itinerary.comments),n=Object(j.a)(t,2),a=(n[0],n[1]),c=Object(r.useState)({comment:""}),s=Object(j.a)(c,2),o=s[0],l=s[1],d=function(){var t=Object(y.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.token){t.next=4;break}Object(i.b)("You need to log in to write a comment",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t.next=14;break;case 4:return t.prev=4,t.next=7,e.addComment(e.itinerary._id,o,e.token);case 7:(n=t.sent).success?a(n.response):console.log(n.response),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"commentsContainer"}),Object(u.jsx)("div",{className:"inputsBox",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("input",{className:"inputComments",type:"textarea",name:"comment",value:o.comment,placeholder:"Leave a comment",onChange:function(e){l(Object(L.a)(Object(L.a)({},o),{},{comment:e.target.value}))}}),Object(u.jsx)("button",{onClick:d,children:"SEND"}),Object(u.jsx)("img",{src:"/assets/edit.png",alt:""}),Object(u.jsx)("img",{src:"/assets/delete.png",alt:""})]})})]})})),P={likes:R.likes},B=Object(k.b)((function(e){return{token:e.usersReducer.token}}),P)((function(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(e.itinerary.likes),i=Object(j.a)(s,2),o=i[0],l=i[1],d=function(){var t=Object(y.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.token){t.next=4;break}alert("You need to log in to like an itinerary"),t.next=18;break;case 4:return t.prev=4,t.next=7,e.likes(e.itinerary._id,e.token);case 7:if(!(n=t.sent).success){t.next=12;break}l(n.response),t.next=13;break;case 12:throw new Error("Something went wrong");case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(){return t.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"itineraryContainer",children:[Object(u.jsx)("h4",{children:e.itinerary.name}),Object(u.jsxs)("div",{className:"likes",children:[Object(u.jsx)("p",{children:o.length}),Object(u.jsx)("div",{onClick:d,children:Object(u.jsx)("img",{src:"/assets/likes.png",alt:""})})]}),Object(u.jsxs)("div",{className:"box1",children:[Object(u.jsx)("div",{className:"itineraryImg",style:{backgroundImage:"url('".concat(e.itinerary.img,"')")}}),Object(u.jsxs)("div",{className:"infoContainer",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h5",{children:e.itinerary.description})}),Object(u.jsx)("span",{className:"hashtags",children:e.itinerary.hashtags.map((function(e,t){return Object(u.jsx)("p",{children:e},t)}))}),Object(u.jsxs)("div",{className:"author",children:[Object(u.jsx)("img",{src:e.itinerary.authorImg,alt:""}),Object(u.jsx)("h5",{children:e.itinerary.authorName})]}),Object(u.jsxs)("div",{className:"cost-duration",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:["Cost:"," ",Object(T.a)(Array(e.itinerary.cost)).map((function(e,t){return Object(u.jsx)("img",{src:"/assets/money.png",alt:""},t)}))]})}),Object(u.jsxs)("div",{className:"duration",children:[Object(u.jsx)("img",{src:"/assets/hours.png",alt:""}),Object(u.jsxs)("p",{children:[e.itinerary.duration," hours."]})]})]})]})]}),a&&Object(u.jsxs)("div",{children:[Object(u.jsx)(_,{itinerary:e.itinerary._id}),Object(u.jsx)(G,{itinerary:e.itinerary._id})]}),Object(u.jsx)("button",{onClick:function(){return c(!a)},children:a?"VIEW LESS":"VIEW MORE"})]})})})),U={getOneCity:w.getOneCity,getItineraries:R.getItineraries},F=Object(k.b)((function(e){return{city:e.citiesRedux.oneCity,cities:e.citiesRedux.cities,itineraries:e.itinerariesRedux.itineraries}}),U)((function(e){var t=Object(r.useState)(!0),n=Object(j.a)(t,2),a=n[0],c=n[1];if(Object(r.useEffect)((function(){if(0===e.cities.length)return e.history.push("/cities"),!1;function t(){return(t=Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getOneCity(e.match.params.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}window.scrollTo(0,0),function(){t.apply(this,arguments)}(e.match.params.id)}),[]),Object(r.useEffect)((function(){function t(){return(t=Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItineraries(e.match.params.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert(t.t0);case 8:return t.prev=8,c(!1),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(e.match.params.id)}),[]),a)return Object(u.jsxs)("div",{className:"contenedor",children:[Object(u.jsx)("div",{className:"city",style:{backgroundImage:"url(".concat(e.city.src,")")},children:Object(u.jsxs)("div",{className:"insideCities",children:[Object(u.jsx)("h3",{children:e.city.name}),Object(u.jsx)("p",{children:e.city.country})]})}),Object(u.jsx)("h2",{className:"loading",children:"Loading..."})]});var s=e.itineraries.map((function(e){return Object(u.jsx)(B,{itinerary:e},e._id)}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"contenedor",children:[Object(u.jsx)("div",{className:"city",style:{backgroundImage:"url(".concat(e.city.src,")")},children:Object(u.jsxs)("div",{className:"insideCities",children:[Object(u.jsx)("h3",{children:e.city.name}),Object(u.jsx)("p",{children:e.city.country})]})}),Object(u.jsx)("div",{className:"section",children:Object(u.jsx)("h2",{children:"Find the perfect itinerary for your trip"})}),Object(u.jsx)("div",{className:"contenedorItCity",children:e.itineraries.length>0?s:Object(u.jsxs)("div",{className:"sorry",children:[Object(u.jsx)("img",{src:"/assets/sorry.png",alt:""}),Object(u.jsx)("h2",{children:"We're sorry!"}),Object(u.jsx)("h3",{children:"We don't have any itineraries yet..."}),Object(u.jsx)("p",{children:"Please try again soon"})]})}),Object(u.jsx)("div",{className:"buscador",children:Object(u.jsx)(o.b,{to:"/cities",children:Object(u.jsx)("button",{children:"BACK TO CITIES"})})})]})})})),H=function(){return Object(u.jsx)(a.a.Fragment,{children:Object(u.jsx)("div",{className:"contenedor",children:Object(u.jsx)("h3",{children:"Page not found"})})})},W={logIn:function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n,r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("https://mytinerarywebapp.herokuapp.com/api/user/login",Object(L.a)({},e));case 2:if((a=t.sent).data.success){t.next=5;break}throw a;case 5:return n({type:"LOGIN_SIGNUP",payload:a.data.response}),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},signUp:function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n,r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("https://mytinerarywebapp.herokuapp.com/api/user/signup",Object(L.a)({},e));case 2:if((a=t.sent).data.success){t.next=5;break}throw a;case 5:return n({type:"LOGIN_SIGNUP",payload:a.data.response}),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},logOut:function(){return function(e,t){e({type:"LOG_OUT"}),Object(i.b)("Goodbye! Hope to see you back soon!",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},logInLS:function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n,r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("https://mytinerarywebapp.herokuapp.com/api/verifyToken",{headers:{Authorization:"Bearer "+e}});case 3:a=t.sent,n({type:"LOGIN_SIGNUP",payload:{token:e,name:a.data.name,img:a.data.img,userId:a.data._id}}),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n({type:"LOG_OUT"}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},D={logOut:W.logOut},Y=Object(k.b)((function(e){return{token:e.usersReducer.token,name:e.usersReducer.name,img:e.usersReducer.img}}),D)((function(e){return Object(u.jsx)("header",{children:Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-none",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("div",{className:"navbar-brand d-none d-lg-block",children:Object(u.jsx)("img",{src:"/assets/logo.png",alt:""})}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse border-none",id:"navbarNav",children:Object(u.jsxs)("ul",{className:"navbar-nav border-none",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(o.c,{exact:!0,to:"/",children:Object(u.jsx)("p",{children:"HOME"})})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(o.c,{to:"/cities",children:Object(u.jsx)("p",{children:"CITIES"})})}),Object(u.jsx)("li",{className:"nav-item",children:!e.token&&Object(u.jsx)(o.c,{to:"/signup",children:Object(u.jsx)("p",{children:"SIGN UP"})})}),Object(u.jsx)("li",{className:"nav-item",children:!e.token&&Object(u.jsx)(o.c,{to:"/login",children:Object(u.jsx)("p",{children:"LOG IN"})})})]})})]})}),Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("p",{className:"align-self-center pe-2",children:e.token&&"Welcome, "+e.name}),e.token?Object(u.jsx)("div",{id:"imgUser",style:{backgroundImage:"url('".concat(e.img,"')")}}):Object(u.jsx)(o.b,{to:"/login",children:Object(u.jsx)("img",{src:"/assets/icoLog.png",alt:""})}),Object(u.jsx)(o.b,{className:"align-self-center",to:"/",children:e.token&&Object(u.jsx)("img",{onClick:function(){return e.logOut()},src:"/assets/logOut.png",alt:""})})]})]})})})),M=Object(k.b)((function(e){return{token:e.usersReducer.token}}))((function(e){return Object(u.jsxs)("footer",{children:[Object(u.jsx)("p",{children:"Copyright 2021 | mytinerary.com"}),Object(u.jsxs)("div",{className:"footerNav",children:[Object(u.jsx)(o.c,{exact:!0,to:"/",children:Object(u.jsx)("p",{children:"HOME"})}),Object(u.jsx)(o.c,{to:"/cities",children:Object(u.jsx)("p",{children:"CITIES"})}),!e.token&&Object(u.jsx)(o.c,{to:"/signup",children:Object(u.jsx)("p",{children:"SIGN UP"})}),!e.token&&Object(u.jsx)(o.c,{to:"/login",children:Object(u.jsx)("p",{children:"LOG IN"})})]}),Object(u.jsxs)("div",{className:"contact",children:[Object(u.jsx)("p",{children:"Contact us: "}),Object(u.jsx)("a",{href:"https://wa.me/123456789",target:"_blank",rel:"noreferrer",children:"+1 123 456 789"}),Object(u.jsx)("span",{children:" | "}),Object(u.jsx)("a",{href:"mailto:info@mytinerary.com",children:"info@mytinerary.com"})]})]})})),K=n(22),z=n(29),J=n.n(z),q={logIn:W.logIn},V=Object(k.b)(null,q)((function(e){var t=Object(r.useState)({email:"",password:""}),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),l=Object(j.a)(s,2),d=l[0],b=l[1],p=function(e){c(Object(L.a)(Object(L.a)({},a),{},Object(K.a)({},e.target.name,e.target.value)))},h=function(){var t=Object(y.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!Object.keys(a).some((function(e){return""===a[e]}))){t.next=6;break}return b("All fields are required."),t.abrupt("return",!1);case 6:if(a.email.includes("@")){t.next=11;break}return b("Please verify your e-mail."),t.abrupt("return",!1);case 11:return t.prev=11,t.next=14,e.logIn(a);case 14:t.sent.data.success&&Object(i.b)("You are logged in!",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),t.t0.data?b(t.t0.data.error):Object(i.b)("There was a connection error.",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 21:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(y.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={email:n.profileObj.email,password:n.profileObj.googleId,flagGoogle:!0},t.prev=1,t.next=4,e.logIn(r);case 4:t.sent.data.success&&Object(i.b)("You logged in with Google correctly!",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.data?b(t.t0.data.error):Object(i.b)("There was a connection error.",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"contenedor",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h4",{className:"signLogTitle",children:"Log into your account"})}),Object(u.jsxs)("div",{className:"signupBox",children:[Object(u.jsx)("div",{className:"inputsBox",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("input",{type:"email",name:"email",placeholder:"E-mail",value:a.email,onChange:p}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:a.password,onChange:p}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"errorsBox",children:Object(u.jsx)("p",{children:d})}),Object(u.jsx)("button",{onClick:h,children:"LOG IN"}),Object(u.jsx)(J.a,{clientId:"90360483035-c7utevr36kmf56slherbvjikj3g594pl.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:O,onFailure:O,cookiePolicy:"single_host_origin"})]})]})}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{to:"/signup",children:Object(u.jsx)("p",{children:"Don't have an account? Sign up here"})})})]}),Object(u.jsx)("div",{className:"buscador",children:Object(u.jsx)(o.b,{to:"/cities",children:Object(u.jsx)("button",{children:"BACK TO CITIES"})})})]})})})),Q={signUp:W.signUp},X=Object(k.b)(null,Q)((function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),l=Object(j.a)(s,2),d=l[0],b=l[1],p=Object(r.useState)({name:"",surname:"",email:"",password:"",img:"",country:""}),h=Object(j.a)(p,2),O=h[0],m=h[1],x=function(e){m(Object(L.a)(Object(L.a)({},O),{},Object(K.a)({},e.target.name,e.target.value)))},g=function(){var t=Object(y.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!Object.keys(O).some((function(e){return""===O[e]}))){t.next=6;break}return b("All fields are required."),t.abrupt("return",!1);case 6:if(O.email.includes("@")){t.next=11;break}return b("Please verify your e-mail."),t.abrupt("return",!1);case 11:return t.prev=11,t.next=14,e.signUp(O);case 14:t.sent.data.success&&Object(i.b)("User created, welcome!",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),t.t0.data?b(t.t0.data.error||t.t0.data.errors.map((function(e){return e.message}))):Object(i.b)("There was a connection error.",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 21:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(y.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={name:n.profileObj.givenName,surname:n.profileObj.familyName,email:n.profileObj.email,password:n.profileObj.googleId,img:n.profileObj.imageUrl,country:"United States of America",google:!0},t.prev=1,t.next=4,e.signUp(r);case 4:t.sent.data.success&&Object(i.b)("User created, welcome!",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.data?b(t.t0.data.error||t.t0.data.errors.map((function(e){return e.message}))):Object(i.b)("There was a connection error.",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){I.a.get("https://restcountries.eu/rest/v2/all?fields=name").then((function(e){return c(e.data)})).catch((function(e){console.log(e)}))})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"contenedor",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h4",{className:"signLogTitle",children:"Create your account here"})}),Object(u.jsxs)("div",{className:"signupBox",children:[Object(u.jsx)("div",{className:"inputsBox",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:O.name,onChange:x}),Object(u.jsx)("input",{type:"text",name:"surname",placeholder:"Surname",value:O.surname,onChange:x}),Object(u.jsx)("input",{type:"email",name:"email",placeholder:"E-mail",value:O.email,onChange:x}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:O.password,onChange:x}),Object(u.jsx)("input",{type:"text",name:"img",placeholder:"URL of your picture",value:O.img,onChange:x}),Object(u.jsx)("div",{children:Object(u.jsxs)("select",{className:"select",type:"select",name:"country",value:O.country,onChange:x,children:[Object(u.jsx)("option",{children:"Select your country"}),a.map((function(e){return Object(u.jsxs)("option",{value:e.value,children:[" ",e.name," "]},e.name)}))]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"errorsBox",children:Object(u.jsx)("p",{children:d})}),Object(u.jsx)("button",{onClick:g,children:"SIGN UP"}),Object(u.jsx)(J.a,{clientId:"90360483035-c7utevr36kmf56slherbvjikj3g594pl.apps.googleusercontent.com",buttonText:"Sign up with Google",onSuccess:f,onFailure:f,cookiePolicy:"single_host_origin"})]})]})}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{to:"/login",children:Object(u.jsx)("p",{children:"Already user? Log in here"})})})]}),Object(u.jsx)("div",{className:"buscador",children:Object(u.jsx)(o.b,{to:"/cities",children:Object(u.jsx)("button",{children:"BACK TO CITIES"})})})]})})})),Z={logInLS:W.logInLS},$=Object(k.b)((function(e){return{token:e.usersReducer.token}}),Z)((function(e){return Object(r.useEffect)((function(){localStorage.getItem("token")&&e.logInLS(localStorage.getItem("token"))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.a,{}),Object(u.jsxs)(o.a,{children:[Object(u.jsx)(Y,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",component:g}),Object(u.jsx)(l.b,{path:"/cities",component:S}),Object(u.jsx)(l.b,{path:"/city/:id",component:F}),!e.token&&Object(u.jsx)(l.b,{path:"/login",component:V}),!e.token&&Object(u.jsx)(l.b,{path:"/signup",component:X}),Object(u.jsx)(l.b,{path:"/notfound",component:H}),Object(u.jsx)(l.a,{to:"/"})]}),Object(u.jsx)(M,{})]})]})})),ee=n(25),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cities:[],filtered:[],oneCity:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CITIES":return Object(L.a)(Object(L.a)({},e),{},{cities:t.payload,filtered:t.payload});case"FILTER_CITIES":return Object(L.a)(Object(L.a)({},e),{},{filtered:e.cities.filter((function(e){return e.name.toLowerCase().startsWith(t.payload.trim().toLowerCase())}))});case"GET_ONE_CITY":return Object(L.a)(Object(L.a)({},e),{},{oneCity:e.cities.find((function(e){return e._id===t.payload}))});default:return e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itineraries:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES":return Object(L.a)(Object(L.a)({},e),{},{itineraries:t.payload});case"RESET_ITINERARIES":return{itineraries:t.payload};default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null,name:null,img:null,userId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SIGNUP":return localStorage.setItem("token",t.payload.token),localStorage.setItem("name",t.payload.name),localStorage.setItem("img",t.payload.img),localStorage.setItem("userId",t.payload.userId),{token:t.payload.token,name:t.payload.name,img:t.payload.img,userId:t.payload.userId};case"LOG_OUT":return localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("img"),localStorage.removeItem("userId"),{token:null,name:null,img:null,userId:null};default:return e}},ae=Object(ee.b)({citiesRedux:te,itinerariesRedux:ne,usersReducer:re}),ce=n(51),se=Object(ee.c)(ae,Object(ee.a)(ce.a));s.a.render(Object(u.jsx)(k.a,{store:se,children:Object(u.jsx)($,{})}),document.getElementById("root"))},80:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.013d395d.chunk.js.map